<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Supabase Auth • Login / Sign Up</title>
    <style>
      :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
      body { margin: 0; background: #0b0f19; color: #e7eaf1; }
      .wrap { min-height: 100vh; display: grid; place-items: center; padding: 24px; }
      .card {
        width: 100%;
        max-width: 420px;
        background: #121a2b;
        border: 1px solid rgba(255,255,255,.08);
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        padding: 20px;
      }
      h1 { font-size: 18px; margin: 0 0 14px; }
      .tabs { display: flex; gap: 8px; margin-bottom: 14px; }
      .tab {
        flex: 1;
        background: #0f1524;
        color: #cfd6e6;
        border: 1px solid rgba(255,255,255,.10);
        padding: 10px 12px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
      }
      .tab.active { background: #1c2a47; border-color: rgba(255,255,255,.18); color: #fff; }
      label { display: block; font-size: 12px; margin: 10px 0 6px; color: #b9c2d9; }
      input {
        width: 100%;
        padding: 12px 12px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,.12);
        background: #0f1524;
        color: #fff;
        outline: none;
      }
      input:focus { border-color: rgba(120,180,255,.6); }
      .row { display: flex; gap: 10px; align-items: center; margin-top: 14px; }
      button {
        width: 100%;
        padding: 12px 12px;
        border-radius: 12px;
        border: 0;
        cursor: pointer;
        font-weight: 700;
        background: #3b82f6;
        color: #071022;
      }
      button.secondary { background: #223255; color: #e7eaf1; border: 1px solid rgba(255,255,255,.12); }
      button:disabled { opacity: .65; cursor: not-allowed; }
      .msg {
        margin-top: 14px;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(255,255,255,.05);
        color: #d8def0;
        font-size: 13px;
        line-height: 1.35;
        display: none;
        white-space: pre-wrap;
      }
      .msg.show { display: block; }
      .msg.ok { border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.08); }
      .msg.err { border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.08); }
      .small { font-size: 12px; color: #aab4cd; margin-top: 10px; }
      .authed {
        margin-top: 14px;
        padding: 12px;
        border-radius: 12px;
        border: 1px dashed rgba(255,255,255,.18);
        display: none;
      }
      .authed.show { display: block; }
      code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-size: 12px; }
      a { color: #93c5fd; }
    </style>
  </head>

  <body>
    <div class="wrap">
      <div class="card">
        <h1>Supabase Auth</h1>

        <div class="tabs">
          <button class="tab active" id="tab-login" type="button">Log in</button>
          <button class="tab" id="tab-signup" type="button">Sign up</button>
        </div>

        <form id="auth-form">
          <label for="email">Email</label>
          <input id="email" type="email" autocomplete="email" required placeholder="you@example.com" />

          <label for="password">Password</label>
          <input
            id="password"
            type="password"
            autocomplete="current-password"
            required
            placeholder="••••••••"
            minlength="6"
          />

          <div class="row">
            <button id="submit" type="submit">Log in</button>
          </div>

          <div class="row">
            <button id="reset" class="secondary" type="button">Send password reset email</button>
          </div>

          <div id="message" class="msg" role="status" aria-live="polite"></div>

          <div class="small">
            Email verification is required on sign up. After clicking the email link, you’ll be returned here.
          </div>
        </form>

        <div id="authed" class="authed">
          <div><strong>Signed in</strong></div>
          <div class="small">User: <code id="user-email">—</code></div>
          <div class="row">
            <button id="logout" class="secondary" type="button">Log out</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Supabase JS v2 -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="./app.js"></script>
  </body>
</html>
